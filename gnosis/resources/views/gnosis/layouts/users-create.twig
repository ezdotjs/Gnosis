{% extends 'gnosis/layouts/master.twig' %}

{% block title %}Create New User{% endblock %}

{% block content %}
    <div class="card">
        <div class="card__body">
            {{ form_open({'route' : 'users.store', 'method' : 'POST', 'class' : 'form'}) }}
                <fieldset>
                    <legend>Basic Details</legend>
                    <div class="grid grid--gutters">
                        <div class="grid__col grid__col--md-6 margin-bottom">
                            <div class="form__field {{ form_error('email', errors, 'users.store') }}">
                                {{ form_label('email', 'Email') }}
                                {{ form_email('email') }}
                            </div>
                        </div>
                        <div class="grid__col grid__col--md-6 margin-bottom">
                            <div class="form__field {{ form_error('name', errors, 'users.store') }}">
                                {{ form_label('name', 'Full Name') }}
                                {{ form_text('name') }}
                            </div>
                        </div>
                        <div class="grid__col grid__col--md-6 margin-bottom">
                            <div class="form__field {{ form_error('roles', errors, 'users.store') }}">
                                {{ form_label('roles', 'Roles') }}
                                {{ form_select('roles[]', roles, null, {'multiple' : 'multiple'}) }}
                            </div>
                        </div>
                    </div>
                </fieldset>
                <fieldset>
                    <legend>Password</legend>
                    <div class="grid grid--gutters">
                        <div class="grid__col grid__col--md-6 margin-bottom">
                            <div class="form__field {{ form_error('password', errors, 'users.store') }}">
                                {{ form_label('password', 'Password') }}
                                {{ form_password('password') }}
                            </div>
                        </div>
                        <div class="grid__col grid__col--md-6 margin-bottom">
                            <div class="form__field {{ form_error('password_confirm', errors, 'users.store') }}">
                                {{ form_label('password_confirm', 'Confirm Password') }}
                                {{ form_password('password_confirm') }}
                            </div>
                        </div>
                    </div>
                </fieldset>
                <div class="form__controls">
                    {{ form_hidden('__form', 'users.store') }}
                    {{ form_button('Save', {'name':'save', 'type' : 'submit', 'value' : true, 'class' : 'button button--primary'}) }}
                    {{ form_button('Save & Exit', {'name':'save_exit', 'type' : 'submit', 'value' : true, 'class' : 'button button--primary'}) }}
                </div>
            {{ form_close() }}
        </div>
    </div>
{% endblock %}
