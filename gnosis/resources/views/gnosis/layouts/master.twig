<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>{% block title %}{% endblock %} | {{ config_get('app.name') }}</title>
        <link rel="stylesheet" href="{{ elixir('/gnosis/css/style.css') }}">
    </head>
    <body>
        <div class="wrapper">
            {% include 'gnosis/partials/_navigation.twig' %}
            <div class="content">
                <header class="content__header">
                    <h1>{{ block('title') }}</h1>
                </header>
                <main class="content__main">
                    <div class="content__page">
                        {% block content %}{% endblock %}
                    </div>
                </main>
            </div>
        </div>
        <script>
            // Critical JS

            // Load webfonts asynchronously
            var WebFontConfig = {
                google: {
                    families: [
                        'Dosis:300,500',
                        'Open+Sans:400,700'
                    ]
                }
            };
            (function (d) {
                var wf = d.createElement('script'), s = d.scripts[0];
                wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js';
                s.parentNode.insertBefore(wf, s);
            })(document);

            // Load icon SVG asynchronously
            (function (d) {
                var x = new XMLHttpRequest();
                x.open('GET', '/gnosis/img/icons.svg', true);
                x.send();
                x.onload = function (e) {
                    var div = d.createElement('div');
                    div.style.display = 'none';
                    div.innerHTML = x.responseText;
                    d.body.insertBefore(div, d.body.childNodes[0]);
                }
            })(document);
        </script>
    </body>
</html>
